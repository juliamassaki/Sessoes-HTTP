<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Cadastro de Atleta</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body class="container mt-5">

<div class="card shadow-lg p-4 mb-5 bg-white rounded">

    <h1 class="pb-2 border-bottom mb-4"
        th:text="${atleta.id == null} ? 'Novo Atleta' : 'Editar Atleta'">
    </h1>

    <form th:action="${atleta.id == null}
                       ? @{/atletas}
                       : @{/atletas/atualizar/{id}(id=${atleta.id})}"
          th:object="${atleta}"
          method="post"
          class="row g-3">

        <input type="hidden" th:field="*{id}"/>

        <div class="col-md-6">
            <label class="form-label fw-bold">Nome</label>
            <input type="text" th:field="*{nome}" class="form-control"/>
            <div class="text-danger" th:if="${#fields.hasErrors('nome')}"
                 th:errors="*{nome}"></div>
        </div>

        <div class="col-md-2">
            <label class="form-label fw-bold">Idade</label>
            <input type="number" th:field="*{idade}" class="form-control"/>
            <div class="text-danger" th:if="${#fields.hasErrors('idade')}"
                 th:errors="*{idade}"></div>
        </div>

        <div class="col-md-4">
            <label class="form-label fw-bold">Esporte</label>
            <input type="text" th:field="*{esporte}" class="form-control"/>
            <div class="text-danger" th:if="${#fields.hasErrors('esporte')}"
                 th:errors="*{esporte}"></div>
        </div>

        <div class="col-md-4">
            <label class="form-label fw-bold">Categoria</label>
            <select th:field="*{categoria}" class="form-select" required>
                <option th:each="cat : ${T(com.example.demo.model.CategoryType).values()}"
                        th:value="${cat}"
                        th:text="${cat}"></option>
            </select>
            <div class="text-danger" th:if="${#fields.hasErrors('categoria')}" th:errors="*{categoria}"></div>
        </div>


        <div class="col-md-3">
            <label class="form-label fw-bold">Profissional</label>
            <div class="form-check form-switch mt-2">
                <input type="checkbox" th:field="*{profissional}" class="form-check-input" role="switch"/>
            </div>
        </div>

        <div class="col-md-3">
            <label class="form-label fw-bold">Já foi às Olimpíadas</label>
            <div class="form-check form-switch mt-2">
                <input type="checkbox" th:field="*{olimpiadas}" class="form-check-input" role="switch"/>
            </div>
        </div>

        <div class="col-md-4">
            <label class="form-label fw-bold">Tipo Olímpico</label>
            <select th:field="*{tipoOlimpico}" class="form-select">
                <option value="NONE">Nenhum</option>
                <option value="OLYMPIC">Olímpico</option>
                <option value="PARALYMPIC">Paralímpico</option>
            </select>
        </div>

        <div class="col-12 mt-4">
            <button type="submit" class="btn btn-success btn-lg">
                <i class="fas fa-save me-2"></i> Salvar
            </button>

            <a href="/atletas" class="btn btn-secondary btn-lg ms-2">
                <i class="fas fa-arrow-left me-2"></i> Voltar
            </a>
        </div>
    </form>
</div>

</body>
</html>